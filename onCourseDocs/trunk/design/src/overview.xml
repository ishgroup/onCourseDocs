<?xml version="1.0" encoding="UTF-8" ?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="overview">
	<title>An overview</title>
	<section>
		<title>Customising onCourse Web</title>
		<para>onCourse Web is designed to be extremely flexible, allowing you to create almost any design
			or concept you choose for your site. When you engage your graphic designer to work on
			your brand and website, you will want to make your onCourse website reflect your
			organisation at every level. That means not only skinning the site to reflect your
			colour and logo, but thinking about navigation, search and the overall user experience.
			onCourse has been built with this in mind and we don't force you in any particular
			direction.</para>
		<para>If you are after quick simple results, skip straight to the stylesheet <link xlink:href="#css">css chapter</link> and
			focus on changing just the stylesheets to get the look you are after. A lot can be done with little effort in this way. If
			you want to make changes to the structure of the site itself, read onto the <link xlink:href="#templates">templates
				chapter</link> for an understanding on how to change the html which makes up the site.</para>
		<para>If you are not a web designer and reading this manual, you may find many of the concepts
			quite challenging. Don't worry: you can still edit content using the online CMS without
			understanding anything here. Your designer, or ish, will be able to work on the page
			design and create something into which you can drop your content.</para>
	</section>
	<section>
		<title>Draft site</title>
		<para>All onCourse websites have both  draft site and a live website. The draft site will be
			visible to you only when you are logged into the CMS. If your site is
			http://www.acme.edu.au, then you can log into the CMS at https://www.acme.edu.au/cms/.
			Any changes you make in the CMS at this time are only visible to you and any other users
			logged into the CMS. You can make content changes and experiment in any way you choose
			without disturbing your live website.</para>
		<para>In addition, you will be able to change css, html templates and other resources on the
			draft site using the WebDAV. This allows you to make design changes, review your work
			and perform all the testing you need before publishing those changes to the
			world.</para>
		<para>Once you have finished with your changes to the draft site and are ready to publish them to
			the live site you can do this within the CMS. The "publish" button can be found in the
			Website section of the Site Settings tab within the CMS. Any changes made within either
			WebDAV or the CMS will be deployed to the live site when you press the publish button.
			You will need to wait at least 10 minutes before the content is visible in production
			due to caching in the production cluster of servers. Some users may need to wait even
			longer if they have a local proxy server, which keeps a copy of the old site until it
			expires from its cache.</para>
		<mediaobject>
			<imageobject>
				<imagedata scalefit="1" width="100%" contentdepth="100%" format="jpg" fileref="images/Publishing_your_site.png" />
			</imageobject>
			<caption>
				<para>How to publish your site</para>
			</caption>
		</mediaobject>
	</section>
	<section xml:id="specialPages">
		<title>Special pages</title>
		<para>Some URLs in your site are reserved for special pages. These pages are delivered by the
			onCourse software itself. To customise them, consult the templates chapter for details
			of how these pages are created. You cannot edit them within the CMS. These pages include:<variablelist>
				<varlistentry>
					<term>/courses</term>
					<listitem>
						<para>A list of all courses which are marked as web visible.</para>
					</listitem>
				</varlistentry>
				<varlistentry>
					<term>/courses/arts</term>
					<listitem>
						<para>A list of all courses tagged with the tag "arts" from the "subject"
							tag group.</para>
					</listitem>
				</varlistentry>
				<varlistentry>
					<term>/course/ABC</term>
					<listitem>
						<para>The detail of the course with code ABC.</para>
					</listitem>
				</varlistentry>
				<varlistentry>
					<term>/class/ABC-123</term>
					<listitem>
						<para>The detail of the class with code ABC-123</para>
					</listitem>
				</varlistentry>
				<varlistentry>
					<term>/sites</term>
					<listitem>
						<para>A list of all sites marked as web visible.</para>
					</listitem>
				</varlistentry>
				<varlistentry>
					<term>/site/12</term>
					<listitem>
						<para>The detail of site with internal id 12.</para>
					</listitem>
				</varlistentry>
				<varlistentry>
					<term>/tutor/23</term>
					<listitem>
						<para>The detail of the tutor with internal id 23.</para>
					</listitem>
				</varlistentry>
				<varlistentry>
					<term>/enrol</term>
					<listitem>
						<para>All pages under this path are reserved for the enrolment processing
							pages.</para>
					</listitem>
				</varlistentry>
				<varlistentry>
					<term>/cms</term>
					<listitem>
						<para>All pages under this path are reserved for the cms.</para>
					</listitem>
				</varlistentry>
				<varlistentry>
					<term>/cms/webdav</term>
					<listitem>
						<para>All pages under this path are reserved for webdav.</para>
					</listitem>
				</varlistentry>
				<varlistentry>
					<term>/asset</term>
					<listitem>
						<para>All pages under this path are reserved for the asset delivery
							system.</para>
					</listitem>
				</varlistentry>
			</variablelist></para>
	</section>
	<section>
		<title>Building CMS pages</title>
		<para>Pages which are not 'special' are delivered from the CMS. That is, you are able to create
			pages and assign them to any URL you choose. The following graph shows the relationship
			between the onCourse database, websites, pages, themes and layouts. We'll go into each
			of these things in more detail shortly.</para>
		<para>
			<mediaobject>
				<imageobject>
					<imagedata scalefit="1" width="100%" contentdepth="100%" format="jpg" fileref="images/intro.jpg" />
				</imageobject>
				<caption>
					<para>Object hierarchy</para>
				</caption>
			</mediaobject>
		</para>
		<section>
			<title>The database</title>
			<para>Starting from the top of the diagram we have the onCourse database itself. This is the application which contains
				courses, classes, tags, students, tutors, and so on. The data in the onCourse database is entered completely within the
				onCourse client/server applications and is automatically synchronised with the web application every few minutes.</para>
		</section>
		<section>
			<title>The website</title>
			<para>Each onCourse database can drive one or many websites. Each website will have one or more
				domains which are used to access them. So Acme Training might have the general
				leisure learning site at http://www.acme.edu.au and the corporate training at
				http://corporate.acme.edu.au and also http://www.acme-corporate.com. The leisure and
				corporate sites can have completely different content (pages), different graphic
				design (layouts) and even display different sets of courses.</para>
		</section>
		<section>
			<title>The pages</title>
			<para>The website is made up of pages entered through the CMS. For full details on how to write and build web pages, consult
				the onCourse website and CMS handbook. Each page has content (text, pictures, etc) and will be linked to a theme.</para>
		</section>
		<section>
			<title>The theme</title>
			<para>Themes are a way of grouping pages and giving them their own character. You can place blocks on a theme, so you might
				create a theme for policies, another theme for news, and one for general pages. The policy theme could then include a
				block on the right side with information for students about lodging complaints and contacting the principal. The news
				theme might contain a block down the left with a random 'hot' course and a block across the top with a rotating banner ad.
				Finally, the general theme contains a block on one side with navigation elements and assorted other blocks of special
				offers.</para>
			<para>
				<mediaobject>
					<imageobject>
						<imagedata scalefit="1" width="100%" contentdepth="100%" format="jpg" fileref="images/ThemeEditor.png" />
					</imageobject>
					<caption>
						<para>Theme Editor</para>
					</caption>
				</mediaobject>
			</para>
		</section>
		<section>
			<title>The layout</title>
			<para>The final piece of this structure is the layout. This is where you as a designer will weave
				your magic. The layout is represented by a folder in the layouts folder you access
				in WebDAV. You can place templates inside that folder where each template overrides
				a certain piece of html on the page. In this way you have full control over the
				entire layout and design of the site, right down to every line of html sent to the
				browser.</para>
			<para>There is always a layout called 'default' which is used by the system for the special pages outlined above. You can
				create as many layouts you like and link them to themes you create in the CMS.</para>
		</section>
	</section>
	<section>
		<title>WebDAV layout</title>
		<para>Log into WebDAV using a standards compliant application. We recommend <link
				xlink:href="http://cyberduck.io">Cyberduck</link> which is free for use on Windows
			and Mac. Configure a connection in Cyberduck with the URL
			https://www.acme.edu.au/cms/webdav/</para>
		<mediaobject>
			<imageobject>
				<imagedata scalefit="1" width="100%" contentdepth="100%" format="jpg" fileref="images/cyberduck_configuration.png" />
			</imageobject>
			<caption>
				<para>Cyberduck Configuration</para>
			</caption>
		</mediaobject>
		<para>When you login into WebDAV you will see folders like this: <itemizedlist>
				<listitem>
					<para>pages</para>
				</listitem>
				<listitem>
					<para>blocks</para>
				</listitem>
				<listitem>
					<para>templates</para>
					<itemizedlist>
						<listitem>
							<para>default</para>
						</listitem>
					</itemizedlist>
				</listitem>
				<listitem>
					<para>s</para>
					<itemizedlist>
						<listitem>
							<para>stylesheets</para>
						</listitem>
						<listitem>
							<para>fonts</para>
						</listitem>
						<listitem>
							<para>img</para>
						</listitem>
						<listitem>
							<para>js</para>
						</listitem>
					</itemizedlist>
									</listitem>
			</itemizedlist>
			<mediaobject>
				<imageobject>
					<imagedata scalefit="1" width="100%" contentdepth="100%" format="jpg" fileref="images/WebDAV_folders.png" />
				</imageobject>
				<caption>
					<para>WebDAV folders</para>
				</caption>
			</mediaobject>
			The <emphasis role="bold">s</emphasis> folder contains static files which
			are not parsed by the application server. These include css, fonts, images and
			javascript. Keeping things organised within the folders as provided will make everything
			easier, but you are free to create whatever additional folders you need to here.
			Template overrides live inside the <emphasis role="bold">templates</emphasis> folder.
			One layout is provided for you called <emphasis role="bold">default</emphasis>which you
			cannot delete.</para>
		<para>You can edit pages and blocks directly from within WebDAV. The result is the same as
			if you had edited those same items from within the CMS.</para>
	</section>
</chapter>
