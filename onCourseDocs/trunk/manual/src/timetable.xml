<?xml version="1.0" encoding="UTF-8" ?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"
	version="5.0" xml:id="timetable">
    <title>Timetables</title>
	<section>
	    <title>Chapter Overview</title>
	    <para>When scheduling classes, it can be helpful to know at a glance when a room or a site 
	        might have some availability free to book up, or is booked out solidly for the next four weeks. 
	        onCourse allows you to track class sessions scheduled at both the site level, and the room level, 
	    making it easier to spot holes in their availability quickly and easily.</para>
	</section>
    <section xml:id="timetable-access">
        <title>Accessing Timetable View</title>
        <para>The Timetable view can be accessed from the Dashboard by typing 'Timetable' into the
            Find Anything search bar, or from within either a Site or a Room record. To find a
            timetable view for a specific site or room:</para>
        <itemizedlist>
            <listitem>
                <para>Open the Sites or Rooms window, whichever is applicable</para>
            </listitem>
            <listitem>
                <para>If in three-column view, click the site or room you wish to view, then click
                    the Timetable button in the right-hand column</para>
            </listitem>
            <listitem>
                <para>If in two-column view, double-click the site or room you wish to view, then
                    click the Timetable button</para>
            </listitem>
        </itemizedlist>
        <mediaobject>
            <imageobject>
                <imagedata scalefit="1" width="100%" contentdepth="100%"
                    fileref="images/sites_timetable_icon.png"/>
            </imageobject>
            <caption>
                <para>The Sites window in three-column view, with the Timetable icon in the
                    right-hand column</para>
            </caption>
        </mediaobject>
    </section>
    <section xml:id="timetable-window">
        <title>Timetable Window</title>
        <para>The Timetable window features a mini-calendar marking today's date, the date selected and 
            any days with sessions booked, along with three separate time of day filters;
            before 12pm, 12pm-6pm, and after 6pm. Selecting any combination of these filters will
            filter out results that appear outside these parameters.</para>
        <para>You can also create custom filters using our Advanced Query Language, or AQL, a
            relatively simple but powerful way to search across numerous records in onCourse.</para>
        <para>You will always see a list of current sessions booked, the date, session length, 
            session times, site and room information, and the name of the sessions tutors, if they're set.</para>
        <para>Each class name can be clicked to open the applicable class record.</para>

    </section>
    <section xml:id="timetable-views">
        <title>Timetable Views</title>
        <para>The timetable offers three different views that each display data in a different way: Compact, Gap (Days) and Gap (Hours).</para>
        <section xml:id="timetable-compact">
            <title>Compact View</title>
            <para>Shows all booked sessions only. Does not show ay available spaces or timetable gaps.</para>
            <mediaobject>
                <imageobject>
                    <imagedata scalefit="1" width="100%" contentdepth="100%"
                        fileref="images/timetable_compact.png"/>
                </imageobject>
                <caption>
                    <para>The Timetable window in Compact view</para>
                </caption>
            </mediaobject>
        </section>
        <section xml:id="timetable-gap-days">
            <title>Gap (Days)</title>
        <para>Shows any days that
            are fully available (no bookings that day), as well as all currently booked
            sessions</para>
        <mediaobject>
            <imageobject>
                <imagedata scalefit="1" width="100%" contentdepth="100%"
                    fileref="images/timetable_gap_days.png"/>
            </imageobject>
            <caption>
                <para>The Timetable in Gap (days) view mode</para>
            </caption>
        </mediaobject>
        </section>
        <section xml:id="timetable-gap-hours">
            <title>Gap (Hours)</title>
            <para>Shows an hourly
            breakdown of each day from 9am to 6pm. For Sites, it will group each class by the hour.
            You can see a breakdown of each class within the hour by clicking the down chevron. For
            Rooms, it will display the name of the class for each hour it's booked. Any available
            times are marked 'available'</para>
        <mediaobject>
            <imageobject>
                <imagedata scalefit="1" width="100%" contentdepth="100%"
                    fileref="images/timetable_gap_hours.png"/>
            </imageobject>
            <caption>
                <para>Gap (hours) view mode shows classes grouped by hours of the day</para>
            </caption>
        </mediaobject>
        </section>
    </section>
    <section>
        <title>Creating Custom Timetable Filters</title>
        <para>You can apply custom filters to the timetable utilising the onCourse advanced query
            language, which you can learn about in more detail here, <link
                xlink:href="search.html">in our search chapter</link>.</para>
        <para>To create a new search filter, make a selection from the drop down box in the search
            bar at the bottom of the window. You can choose from the following entities:</para>
        <para>
            <itemizedlist>
                <listitem>
                    <para>Sessions</para>
                </listitem>
                <listitem>
                    <para>Tutors</para>
                </listitem>
                <listitem>
                    <para>Contacts</para>
                </listitem>
                <listitem>
                    <para>Classes</para>
                </listitem>
                <listitem>
                    <para>Courses</para>
                </listitem>
                <listitem>
                    <para>Student names</para>
                </listitem>
                <listitem>
                    <para>Rooms</para>
                </listitem>
                <listitem>
                    <para>Sites</para>
                </listitem>
            </itemizedlist>
        </para>
        <para>Selections in the drop down box show you which entities the data is connected across
            within the onCourse database. E.G. the courses selection shows how the class session is
            connected to the class (called CourseClass in the database), which is connected to
            Course. It appears like so:</para>
        <para><code>session.courseClass.course.</code></para>
        <para>One example of a simple filter would be if you wanted to see when all your courses
            with Music in the name are on, you would select , then adding the following AQL
            code:</para>
        <para><code>name contains "Music"</code></para>
        <para>AQL uses pre-selectable options to choose from, which makes creating filters like
            this, or even far more complex ones, very simple.</para>
        <para>You can save any custom filter you create by clicking the sliders icon at the end of
            the search box. You can save it so it's visible for everyone, or just for you. When you
            choose that, the filter will appear in the panel on the left with a bank name field.
            Enter your name, then click the Save icon and the filter will be saved for you to recall
            at any time.</para>
    </section>
</chapter>
