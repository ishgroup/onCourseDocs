<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="release-1.5">

  <info>
    <title>Release 1.5</title>
    <pubdate>22 Oct 2008</pubdate>
  </info>
  <section role="major">
    <title>Major features</title>
    <section>
      <title>HTML emails</title>
      <para>onCourse can now send multipart emails with plain and html parts. HTML emails can be created in a tool of your choice and inserted into outgoing
        messages.</para>
    </section>
    <section>
      <title>Mailing lists</title>
      <para>We’ve optimised the sending of mailing lists, and you should also receive some visual
        progression so that you know that things are happening as messages to large lists are being
        sent. Mailing lists have been given greater prominence within the interface to make them
        easier to use and search on. The web site allows students and potential students to
        subscribe and unsubscribe to mailing lists.</para>
    </section>
    <section>
      <title>Bounce processing</title>
      <para>When outgoing emails or SMSs bounce more than a certain number of times, the person has
        that contact method set as undeliverable. This happens automatically as onCourse processes
        both the bounced emails and SMS failure notifications. </para>
    </section>
    <section>
      <title>SSL</title>
      <para>Improvements to handling of SSL encryption between client and server to allow the client
        to verify that it is connecting to the correct server and no man-in-the-middle attack is
        being attempted.</para>
    </section>
    <section>
      <title>Date picker</title>
      <para>For all text fields which require a date, there is now a date picker. This simplifies
        the process of selecting dates from a small popup calendar widget.</para>
    </section>
    <section>
      <title>Overview Calendar</title>
      <para>From the session button on the splash screen, you can know view the entire programmed
        sessions for your college for any given day, week or month. You can also use the tag groups
        to select one or more subject or other tags for example, the program manager for Arts can
        easily view all the upcoming arts classes in a single overview.</para>
    </section>
    <section>
      <title>Record bulk processing</title>
      <para>Adding and removing tags in bulk as well as web-enabling classes in bulk.</para>
    </section>
    <section>
      <title>AVETMISS</title>
      <para>Numerous AVETMISS improvements, reducing the time required to clean up data for AVETMISS
        export toward that ultimate goal of zero. We are pretty close in most places right now,
        mainly with the exception of checking postcode validity.</para>
    </section>
  </section>
  <section role="minor">
    <title>Minor features</title>
    <section>
      <title>Full change log</title>
      <itemizedlist>
        <listitem>
          <para>Contact profile picture feature.</para>
        </listitem>
        <listitem>
          <para>Added ldap authorisation as well as authentication. Roles are given to users when
            the log in from data in the LDAP data source.</para>
        </listitem>
        <listitem>
          <para>Prevented phantom changes to the invoice, causing the “there are un-commited
            changes” dialog to show up</para>
        </listitem>
        <listitem>
          <para>Clean up the preference view layout.</para>
        </listitem>
        <listitem>
          <para>Changed label for concession name entry to avoid confusion</para>
        </listitem>
        <listitem>
          <para>Fixed sheet drawing issues – opening the sheet bigger than a frame does not cause
            painting grief. now it is positioned in the centre.</para>
        </listitem>
        <listitem>
          <para>Fixed a bug where “Send Email” is truncated at the top of the messaging
            window</para>
        </listitem>
        <listitem>
          <para>The database backup service is not available if the database backend in not Derby
            (default database)</para>
        </listitem>
        <listitem>
          <para>Corrected behaviour on record cancelling (or pressing prev/next button) where it was
            possible to save record without proper permissions using “Keep Changes”</para>
        </listitem>
        <listitem>
          <para>Debtors and creditors report improved: added student id column, phone fields made
            wider, alignment fixed</para>
        </listitem>
        <listitem>
          <para>Fixed button spacing on subrecord list</para>
        </listitem>
        <listitem>
          <para>Made the screen for adding discounts/promo codes to class more comprehensible</para>
        </listitem>
        <listitem>
          <para>Allow searching fields in view on list view by default rather than just last name
            which is more intuitive.</para>
        </listitem>
        <listitem>
          <para>UserListController shouldn’t subclass TaggableListController as SystemUser is not
            Taggable.</para>
        </listitem>
        <listitem>
          <para>Adjusted the minimum size of discount and promocode views, now they both look good
            in sheet</para>
        </listitem>
        <listitem>
          <para>Fixed the link icon, now the implementation allows traversing through the
            relationships (allowing to display the link on contact relation table for
            example)</para>
        </listitem>
        <listitem>
          <para>Profit and loss for class report breaks down the totals per account.</para>
        </listitem>
        <listitem>
          <para>The sheet dialog size is fixed (the spacer between buttons was causing the layout to
            blow up)</para>
        </listitem>
        <listitem>
          <para>Reducing number of times contacts (and their relations) are validated.</para>
        </listitem>
        <listitem>
          <para>Optimisations: These two together significantly reduce the time lag for QuickEnrol. </para>
          <itemizedlist>
            <listitem>
              <para>queries by utilising local_cache for non-shared contexts.</para>
            </listitem>
            <listitem>
              <para>validation calls are reduced by having objects register themselves for
                validation (and thus if already validated for the ValdationResult not doing so
                again).</para>
            </listitem>
          </itemizedlist>
        </listitem>
        <listitem>
          <para>Because this code is called so often (7500 times just to press tab in QE), the
            logger debugs are taking all of 500ms combined. We don’t really need them in production
            code since the logs they create are a bit overwhelming.</para>
        </listitem>
        <listitem>
          <para>Performance improvement for tag validation.</para>
        </listitem>
        <listitem>
          <para>Fixed typo in the reconcile screen</para>
        </listitem>
        <listitem>
          <para>Re-added room combobox to the session create dialog</para>
        </listitem>
        <listitem>
          <para>Removed double call to the validation on selecting contact with clairvoyance on
            QE</para>
        </listitem>
        <listitem>
          <para>Fixed exception when creating session in Course view (the automatic assignment of
            tutors wont work, since a course does not have relation to tutors)</para>
        </listitem>
        <listitem>
          <para>Using common lock for graph-related methods in order to safeguard from
            deadlocks.</para>
        </listitem>
        <listitem>
          <para>Reducing validation for CVV. It should only provide a warning which should not
            prevent saving of the payment.</para>
        </listitem>
        <listitem>
          <para>Frame disposal is posted to the event dispatch thread, this way a collision between
            two threads (one closing frame one refreshing etc) is avoided.</para>
        </listitem>
        <listitem>
          <para>Don’t log user passwords when debugging is set to full</para>
        </listitem>
        <listitem>
          <para>Fixed the problem with preference view, the ldap server port preference is an
            integer.</para>
        </listitem>
        <listitem>
          <para>Login: the password is sent as encrypted already, no need to re-encrypt it again on
            server.</para>
        </listitem>
        <listitem>
          <para>Refactor the security filter. This resolves some earlier LDAP issues and also
            simplifies all the code considerably.</para>
        </listitem>
        <listitem>
          <para>Fixed sizing of dialogs, some information was not visible.</para>
        </listitem>
        <listitem>
          <para>The payment view in sheet could not be closed, now behaves correctly.</para>
        </listitem>
        <listitem>
          <para>Two data upgrades, one fixing a typo in the contact relation table, second setting
            the default values for ldap</para>
        </listitem>
        <listitem>
          <para>Enabling/disabling widgets on the ldap preference tab. Friendly message when ldap
            licence is off and user tries to enable it.</para>
        </listitem>
        <listitem>
          <para>Email from should never be different from reply to email address (for messages sent
            from onCourse)</para>
        </listitem>
        <listitem>
          <para>Fix problem with posix style LDAP accounts.</para>
        </listitem>
        <listitem>
          <para>Fixed course class tutor report, was broken after the change in schema which allowed
            linking many tutors to a class/session.</para>
        </listitem>
        <listitem>
          <para>Improved speed of sending emails by batching the process</para>
        </listitem>
        <listitem>
          <para>Improved user experience of sending emails by providing visual feedback on
            progress</para>
        </listitem>
        <listitem>
          <para>Improvement in session drawing time by not displaying tutor information</para>
        </listitem>
        <listitem>
          <para>Improvement in session colour coding for sessions when grouped by course and
            displaying over 500 sessions</para>
        </listitem>
        <listitem>
          <para>Removed extended info on the session blob in calendar, tradeoff for faster calendar
            drawing</para>
        </listitem>
        <listitem>
          <para>Added “core filter” to the session list</para>
        </listitem>
        <listitem>
          <para>Fixed issue where the copy/cut/paste menu items did not work on windows.</para>
        </listitem>
        <listitem>
          <para>Enrolment confirmations need the student first/last names as options. (Fixing
            labels)</para>
        </listitem>
        <listitem>
          <para>Fixed problem with module clairvoyance not accepting values.</para>
        </listitem>
        <listitem>
          <para>On windows hitting close toolbar button, then answering no does not cause toolbar
            window to go away.</para>
        </listitem>
        <listitem>
          <para>Payment status is set to success when the payment gateway is not contacted.</para>
        </listitem>
        <listitem>
          <para>Fixing issue where selecting the datafile would create a new one inside of
            it.</para>
        </listitem>
        <listitem>
          <para>onCourse does not use the system set web proxy on Mac OS X. This fixes the problem
            with web proxy preventing connecting to server.</para>
        </listitem>
        <listitem>
          <para>Removed webpages GUI – webpages are now edited directly on the website.</para>
        </listitem>
        <listitem>
          <para>Improved the code forcing repainting of the sheet. This resolves issue with sheet
            becoming transparent when window looses focus, and also avoids the flickering
            effect.</para>
        </listitem>
        <listitem>
          <para>Catching and munching an exception which does nothing serious. It happens at random
            when disposing sheet.</para>
        </listitem>
        <listitem>
          <para>Fixed see-through effect caused by search field on list view</para>
        </listitem>
        <listitem>
          <para>Fixed problem with processing CC payments when gateway is inaccessible (or other
            generic Internet related problem occurred)</para>
        </listitem>
        <listitem>
          <para>Updating the null status enrolments, all enrolments, not only the one with invalid
            status were set to success</para>
        </listitem>
        <listitem>
          <para>Fixed exception raised when opening certain Courses (with qualification which does
            not define value in isOffered field)</para>
        </listitem>
        <listitem>
          <para>Show error message when try to use old server version with newer data file.</para>
        </listitem>
        <listitem>
          <para>If an outcome is not classroom based or employment based, then don’t export the
            attached site.</para>
        </listitem>
        <listitem>
          <para>Updating properties to allow obtaining soap stubs from a local instance. Also
            setting payment testing to true for run targets</para>
        </listitem>
        <listitem>
          <para>Fixed validation problem when saving created session records.</para>
        </listitem>
        <listitem>
          <para>Course qualification validation was not executed properly in conjunction with
            preference for reducing the visible qualifications to offered only.</para>
        </listitem>
        <listitem>
          <para>Fixed layout glitches in preference view</para>
        </listitem>
        <listitem>
          <para>Fixed class cast exception in automatic logout time</para>
        </listitem>
        <listitem>
          <para>Do not close dashboard when ESC pressed.</para>
        </listitem>
        <listitem>
          <para>Add mandatory custom fields to new object.</para>
        </listitem>
        <listitem>
          <para>Clean up all known issues with the HeartBeatThread. This should make it more
            resilient and the code is now MUCH smaller and simpler to follow.</para>
        </listitem>
        <listitem>
          <para>Remove window and buttons decoration, change size and background color.</para>
        </listitem>
        <listitem>
          <para>Better error message + updating JavaDoc for setAccountOut</para>
        </listitem>
        <listitem>
          <para>the data upgrade is now less automatic, more manual but allows better control over
            the order of the data updates.</para>
        </listitem>
        <listitem>
          <para>Clean up messages when untrusted SSL key is received by client.</para>
        </listitem>
        <listitem>
          <para>removed deprecated search option from the class list view (tutor confirmed date).
            There is another search option which can be used (tutor confirmed on)</para>
        </listitem>
        <listitem>
          <para>Contents of the sheet was not drawn when the frame lost focus. Added additional code
            to force repainting of the frame.</para>
        </listitem>
        <listitem>
          <para>Fix for duplicate queued records resolving during dequeuing of onCourse records for
            replication</para>
        </listitem>
        <listitem>
          <para>fixed the exceptions on server startup when the keystore already exists (or entry
            within the keystore)</para>
          <para> keystore file name changed.</para>
        </listitem>
        <listitem>
          <para>Re-added dialog when cancelling edit</para>
        </listitem>
        <listitem>
          <para>Fixed a problem setting the enrolment status when the web gateway is not
            enabled.</para>
        </listitem>
        <listitem>
          <para>Copy, cut and paste buttons on menu work as expected.</para>
        </listitem>
        <listitem>
          <para>Fixed a bug when calculating student contact hours</para>
        </listitem>
        <listitem>
          <para>Student contact hours calculated more robustly</para>
        </listitem>
        <listitem>
          <para>Session edit controller must be invoked in new frame, not in sheet. This matches up
            with the behaviour of other edit controllers</para>
        </listitem>
        <listitem>
          <para>Added search on the class start date</para>
        </listitem>
        <listitem>
          <para>Force build to use JDK 1.5 and not 1.6 to help avoid accidentally using Java 6
            constructs.</para>
        </listitem>
        <listitem>
          <para>Fix 100% CPU load in idle state.</para>
        </listitem>
        <listitem>
          <para>Fixes for thrashing heartbeat thread and shutdown hangs.</para>
        </listitem>
        <listitem>
          <para>Added dialog that shows that the enrolment confirmations were sent</para>
        </listitem>
        <listitem>
          <para>Capturing all exceptions when courseclass duplication fails and displaying a message
            to the end user</para>
        </listitem>
        <listitem>
          <para>Overview calendar colour coding</para>
        </listitem>
        <listitem>
          <para>Allowing multiple sort of data for reports</para>
        </listitem>
        <listitem>
          <para>Printing the class funding fixed</para>
        </listitem>
        <listitem>
          <para>Re-enabled the funding source field in class</para>
        </listitem>
        <listitem>
          <para>Added feature to re-send enrolment confirmation</para>
        </listitem>
        <listitem>
          <para>Added rollover picture for session toolbar button</para>
        </listitem>
        <listitem>
          <para>Added session overview </para>
          <itemizedlist>
            <listitem>
              <para>selecting session in calendar highlights the session in the table + scrolls it
                to make visible</para>
            </listitem>
            <listitem>
              <para>selecting a session in table highlights the session in the calendar + scrolls it
                to make visible</para>
            </listitem>
          </itemizedlist>
        </listitem>
        <listitem>
          <para>swapped port field and find server button on login screen</para>
        </listitem>
        <listitem>
          <para>fixed the icon display in Clairvoyance field</para>
        </listitem>
        <listitem>
          <para>Minor improvements to tab names in general preferences.</para>
        </listitem>
        <listitem>
          <para>Add date picker for every text field with date.</para>
        </listitem>
        <listitem>
          <para>AVETMISS changes </para>
          <itemizedlist>
            <listitem>
              <para>Fix language proficiency in AVETMISS export.</para>
            </listitem>
            <listitem>
              <para>Fix Aboriginal export to AVETMISS.</para>
            </listitem>
            <listitem>
              <para>Fix suppression of newlines in AVETMISS export and write test case for this
                problem.</para>
            </listitem>
            <listitem>
              <para>Split address across newlines for AVETMISS export.</para>
            </listitem>
            <listitem>
              <para>If no additional language spoken at home other than English, then the Australian
                government doesn’t want to know how well you speak English. Sigh…</para>
            </listitem>
            <listitem>
              <para>Fix commencing course identifier export logic.</para>
            </listitem>
            <listitem>
              <para>Only export successful enrolments.</para>
            </listitem>
            <listitem>
              <para>Courses can have 6 or 4 character field of educations in different
                circumstances.</para>
            </listitem>
            <listitem>
              <para>Prior education and disability choices need to have NONE as a choice.</para>
            </listitem>
            <listitem>
              <para>Site name now uppercase.</para>
            </listitem>
            <listitem>
              <para>Export only unique records for AVETMISS</para>
            </listitem>
            <listitem>
              <para>If street address blank then export ‘NOT PROVIDED’ for AVETMISS.</para>
            </listitem>
            <listitem>
              <para>Fix handling of state and postcode when bad data supplied for AVETMISS
                export.</para>
            </listitem>
            <listitem>
              <para>Export @@ for students who didn’t answer language other than English
                question.</para>
            </listitem>
            <listitem>
              <para>Is suburb not supplied then export “NOT PROVIDED”</para>
            </listitem>
            <listitem>
              <para>If string longer than desired AVETMISS field, then truncate. Also strip newline,
                return and tab.</para>
            </listitem>
            <listitem>
              <para>Change exported Avetmiss files to use file names required by NCVER.</para>
            </listitem>
            <listitem>
              <para>Fixed: avetmiss 120: For outcomes not set, export 00 instead of 0. Space not
                allowed in the field.</para>
            </listitem>
            <listitem>
              <para>“Training Orgainsiation Type Identifier” in NAT00010 updated from release 5 to
                6</para>
            </listitem>
            <listitem>
              <para>Upper case for the Suburb in site and Course/Qualification name</para>
            </listitem>
            <listitem>
              <para>Fixed: “No records should appear in that files unless their is a corresponding
                enrolment record in the NAT00120”</para>
              <para> get outcome list from course classes and then get all data (students, sites,
                qualification, …) from that outcome list.</para>
            </listitem>
          </itemizedlist>
        </listitem>
        <listitem>
          <para>Avoid showing an error which could sometimes occur when shutting down client</para>
        </listitem>
        <listitem>
          <para>Simplified SSL certificate handling for the client-server encryption.</para>
        </listitem>
        <listitem>
          <para>Fixed error when doubleclicking on tutor in class edit view</para>
        </listitem>
        <listitem>
          <para>Fixed fonts when printing certificate.</para>
        </listitem>
        <listitem>
          <para>Fixed problems with certificate report page turning.</para>
        </listitem>
        <listitem>
          <para>Small tweak which makes sure that any mass edit action can access a frame to allow
            progress display. (was not working for edit controllers)</para>
        </listitem>
        <listitem>
          <para>Fixed problem with creating sessions in ClassEditView</para>
        </listitem>
        <listitem>
          <para>Fixed problem with textfield for email url, the formatter was missing.</para>
        </listitem>
        <listitem>
          <para>Removed code which was supposed to prevent showing records when an empty tag is
            checked. it is more complex than it seems.</para>
        </listitem>
        <listitem>
          <para>If on list view a checkbox next to a tag is checked and this tag is not found then
            no records are displayed (cf all records were displayed)</para>
        </listitem>
        <listitem>
          <para>“Untag all” action added</para>
        </listitem>
        <listitem>
          <para>Improved the enrolment cancellation process</para>
        </listitem>
        <listitem>
          <para>Fixed validation message on course field of education field</para>
        </listitem>
        <listitem>
          <para>Mass web enable message tweaked when enabling or removing a single class, fixed
            grammar of action completed message</para>
        </listitem>
        <listitem>
          <para>Added a tax field to enrolment/class cancel screen</para>
        </listitem>
        <listitem>
          <para>More information about a class is displayed in the combobox on QE</para>
        </listitem>
        <listitem>
          <para>Allowed for drag and drop of modules to the list in course</para>
        </listitem>
        <listitem>
          <para>Fixed problems with user interface of adding a discount to class</para>
        </listitem>
        <listitem>
          <para>The validation on clairvoyance not always set the background</para>
        </listitem>
        <listitem>
          <para>Fixed alignment and text on the attendance certificate</para>
        </listitem>
        <listitem>
          <para>Disable textfield in ldap tab if there is no license for ldap authentication</para>
        </listitem>
        <listitem>
          <para>Added weight to the tags. This will allow users to adjust which order tags are
            displayed on the website. Ie. Subject categories</para>
        </listitem>
        <listitem>
          <para>Fixing conditions for running replication. </para>
          <itemizedlist>
            <listitem>
              <para>doesn’t depend on website being licenced (otherwise you can’t update the licence
                from willow)</para>
            </listitem>
            <listitem>
              <para>doesn’t depend on nighttime or weekends (as colleges like tango run classes on
                weekends and nights)</para>
            </listitem>
          </itemizedlist>
        </listitem>
        <listitem>
          <para>Tweaked the mass editing: </para>
          <itemizedlist>
            <listitem>
              <para>showing progress and notification upon completion</para>
            </listitem>
            <listitem>
              <para>moved execution to a separate thread – no gui blocking</para>
            </listitem>
            <listitem>
              <para>added the mass edit actions to cog wheel</para>
            </listitem>
          </itemizedlist>
        </listitem>
        <listitem>
          <para>Usability improvement for session view, the split between calendar/list of sessions
            has been pulled higher</para>
        </listitem>
        <listitem>
          <para>Adding class location to enrolment confirmations.</para>
        </listitem>
        <listitem>
          <para>Display information “student on waitinglist” in contact edit view only if contact is
            a student.</para>
        </listitem>
        <listitem>
          <para>Changed waiting list info on student dialog from central alignment to left
            alignment</para>
        </listitem>
        <listitem>
          <para>Mailing Lists: Bounce processing</para>
        </listitem>
        <listitem>
          <para>Outcome enrolment’s invoiceline total price unavailable, throws an exception. The
            field is only for det export.</para>
        </listitem>
        <listitem>
          <para>Cleanup of some bash variables in script, and making windows clients log to a
            different file to the server</para>
        </listitem>
        <listitem>
          <para>Optimization for dataupgrade</para>
        </listitem>
        <listitem>
          <para>Added validation for the refund amount when cancelling the enrolment</para>
        </listitem>
        <listitem>
          <para>Added ‘fee paid’ to the enrolment list view</para>
        </listitem>
        <listitem>
          <para>“network connection lost” during automatic logout was disabled</para>
        </listitem>
        <listitem>
          <para>Fixed reported bugs related to automatic logout: </para>
          <itemizedlist>
            <listitem>
              <para>If I uncheck the tick box, I still end up getting logged out.</para>
            </listitem>
            <listitem>
              <para>If I take the value out of the box, I can’t save the record, even with the
                checkbox unticked.</para>
            </listitem>
          </itemizedlist>
        </listitem>
        <listitem>
          <para>Allowed search for TutorClasses date confirmed.</para>
        </listitem>
        <listitem>
          <para>Tutor name displayed on the class list, sending message to multiple classes does not
            put the same student multiple times on the list</para>
        </listitem>
        <listitem>
          <para>Added “Friend” as available contact relation type</para>
        </listitem>
        <listitem>
          <para>Find on Contact list fixed</para>
        </listitem>
        <listitem>
          <para>Added labels to student edit view (left bottom) and course edit view for number of
            students on waiting list.</para>
        </listitem>
      </itemizedlist>
    </section>
  </section>
</chapter>
