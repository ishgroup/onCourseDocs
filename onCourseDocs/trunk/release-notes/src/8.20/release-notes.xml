<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="release-8.20">

  <info>
    <title>Release 8.20</title>
    <pubdate>4 July 2016</pubdate>
  </info>

  <section role="important">
    <title>Important changes</title>
    <para>Hello and welcome to your latest onCourse upgrade! From this release onwards, each time a
      new onCourse version is released, the release notes will be displayed to each onCourse user
      when they log in, inside the application.</para>
    <para>Take a moment to read through this screen to understand what has changed since the last
      time you logged in. When you are done here, just close the window. Once you've closed the
      window, you won't see this alert again until the next upgrade is deployed.</para>
    <para>Release notes are also published on our website, so you can always visit <link xlink:href="http://www.ish.com.au/s/onCourse/doc/release-notes/">http://www.ish.com.au/s/onCourse/doc/release-notes/</link> to refer to this release again,
      or any previous release notes.</para>
  <section>
    <title>DateTime format changes for custom reports</title>
    <para>All onCourse system reports and exports have been updated, however if you have created
        your own custom reports or exports, you may encounter some exceptions when running them
        where we have upgraded some dateTime fields to localDate. Changing date formats from
        "yyyy-MM-dd'T'HH:mm:ssXXX" to "yyyy-MM-dd" should resolve your problems. Refer to the
        onCourse API documentation or contact us for assistance as needed.</para>
  </section>
  </section>
  <section role="major">
    <title>Major features</title>
  <section>
    <title>Allow Discounts to change fee charged instead of charge to expenses</title>
    <para>Previously, all discounts processed within onCourse processed the value of the discount to
        the default COS (cost of sale) account as defined by the financial preferences, called
        'discounts given'. For example, if your class fee was $100, with a $20 discount, so the
        student was charged $80, then $100 income would be earnt by the transaction, with $20 of COS
        expense posted. </para>
      <para>Substantial changes have been made to the way discounts can be created in the system so
        they can be either be a:</para>
    <orderedlist>
      <listitem><para><emphasis role="bold">Discount linked to your choice of COS Account from those created in the
              accounts list in general ledger.</emphasis> You can now post each discount type to
            it's own COS account or create a COS account for each department. This type of setup is
            recommended for discounts like senior's card discounts or promotional activities.</para></listitem>
      <listitem><para><emphasis role="bold">Discount linked to no COS account.</emphasis> These types of discounts
            are treated as an adjustment to the income earnt e.g. if the class fee was $100, with a
            $20 discount posted to no COS account, so the student fee is $80, then $80 income would
            be earnt by the transaction, with no expense posted. For 'change of fee' type discounts,
            like Smart and Skilled student fees, using the no COS discount type is recommended. </para></listitem>
    </orderedlist>
    <para>Changes to existing discount COS allocations will not change transactions created in the
        past; it will only affect transactions created after the change.</para>
      <para>All manual discounts in Quick Enrol, and discounts in manual invoices will post as a
        reduction of income, rather than to the COS expense.</para>
  </section>
    <section>
      <title>Allow transaction dates to be edited before period finalised</title>
      <para>To allow for end of month Financial reporting adjustments, transaction effective dates
        prior to the date the record was created can now be set in onCourse. This will allow finance
        users to move transactions that occur early in a new month to be pushed back into the month
        prior, for invoices, payments in and payments out, and for the same types of transactions to
        be moved forward in time as needed. Journals can also be posted into the past.</para>
      <para>Once a month end's movements are complete, the period should be finalised, to avoid
        further movements during that date range. A new UI has been added to the Financial menu
        options to Finalise Period.</para>
      <para>Reports printed that include transactions in unlocked period include a red warning on the last page ""This report includes unposted transaction periods which are subject to change."</para>
    </section>
    <section>
      <title>New account - Undeposited funds</title>
      <para>A new default asset account has been created called 'undeposited funds'. This accounts
        holds the balance of all unbanked payment in and payment out transactions. When the payment
        is banked, it is transferred to the 'deposited funds' asset account. Payment methods that
        are marked as bank automatically will always be deposited directly into the 'deposited
        funds' accounts. Only payment methods that are banked manually are first created in the
        'undeposited funds' account. Payments that have their banking date removed are deducted from
        the 'deposited funds' account and returned to the 'undeposited funds' account.</para>
    </section>
    <section>
      <title>Bank reconciliation redesign</title>
      <para>The Bank Reconciliation process inside onCourse has been redesigned to work from within
        the Banking Deposit list, rather than in a separate window. Whole banking deposit records
        can be reconciled with a single click, or balanced transaction by transaction.</para>
      <para>In concert with this change, the associated reconciliation reports have also been
        renamed 'Cash movements reports'</para>
    </section>
    <section>
      <title>Default tax setting per income account</title>
      <para>Each income account now has the option to set a default tax value. This will
        automatically apply the selected tax option when the income account is chosen during the
        class set up process, or when a manual invoice is generated. The user can still choose to
        change the tax to another option available as needed.</para>
      <para>We recommend all finance managers review the default tax status of each account after
        the upgrade and ensure the default option for each income account is the more commonly used
        value i.e. does GST apply to most transactions in this account or not. Changing these values
        do not change any previous transactions in the system or any existing account/tax
        combinations, but will ensure less user errors in tax selection are made going
        forward.</para>
    </section>
    <section>
      <title>New duplicate course option</title>
      <para>This feature is of particular interest to RTO onCourse users, who may need to re-create
        courses regularly as training packages change or internally unit clustering changes. In the
        course cogwheel, a 'duplicate course' option will copy all the marketing and attached VET
        unit information from an existing course and automatically add a '1' to the end of the
        course code. This new course can then have units quickly added, deleted or otherwise
        adjusted. By default, all duplicated courses are set to be enabled on creation, but will not
        display on the web until you set that value. NOTE: attached documents and related
        courses/products do not duplicate with the course. This additional function will be added as
        part of the next onCourse release.</para>
    </section>
  </section>
  <section role="scripts">
    <title>Reports and scripts</title>
    <itemizedlist>
      <listitem><para>A new version of the debtors report has been added to the contact window that can be run to a
          specified date range, so you can determine your debtors as of a particular date in time
            <systemitem>#9508</systemitem></para></listitem>
      <listitem><para>A new report has been added to the contact window to calculate monthly student attendance averages, of particular use to CRICOS providers  <systemitem>#27095</systemitem></para></listitem>
      <listitem><para>A new script has been added to send an email notification to your default admin email address when a product purchase is made on the web. The script is called 'send product purchased email' and is disabled by default <systemitem>#25716</systemitem></para></listitem>
      <listitem><para>A new export has been added to the classes window called 'CourseClass Sessions CSV export' to export class session data to excel <systemitem>#28680</systemitem></para></listitem>     
      <listitem><para>A new export has been added to the transaction window called 'Account Transaction Segmentation CSV export' to show the Discount, GST or Liability joins back to the invoiceLine income account <systemitem>#28683</systemitem></para></listitem>
      <listitem><para>The default certificate report that prints Statements of Attainments has had the second page
          Transcript report removed. Now, if the Statement of Attainment contains more units than
          will fit on a single page, the certificate will break into multiple pages, with the
          correct formatting for each page. The certificate number will be appended with /1, /2 ect
          as additional pages are created. If you use the default Certificate template and print
          with a two page background, you should change the background to a single page and re-test
          the print process. <systemitem>#28313</systemitem></para></listitem>
      <listitem><para>The Transcript report can be printed as required from the Certificate window for all types of certificate records <systemitem>#28844</systemitem></para></listitem>
      <listitem><para>Reconciliation print reports renamed 'Cash Movements Detail Report' and 'Cash Movements
          Summary Report' <systemitem>#28264</systemitem></para></listitem>
      <listitem><para>Fix to Statement Report to only include payments with a successful and non-reversed status <systemitem>#28006</systemitem></para></listitem>
      <listitem><para>Addition of new report 'Payment Out', available from the payment out window <systemitem>#28646</systemitem></para></listitem>
      <listitem><para>The contact import and contact export CSV layouts have been aligned <systemitem>#27449</systemitem></para></listitem>
      <listitem><para>A new column has been added to the scripts list view to show the next run date or event, and
          grey out the scripts that are disabled <systemitem>#28315</systemitem></para></listitem>
      <listitem><para>Change the script edit permissions to allow the script CRON schedule to be adjusted by all users <systemitem>#27997</systemitem></para></listitem>
      <listitem><para>Fix to the calculation of isActive flag to ensure cancelled classes are not included as active for reporting or scripting<systemitem>#28689</systemitem></para></listitem>
      <listitem><para>A new option has been added to the export template cogwheel to 'duplicate export template'.
          This will assist users when creating their own custom templates, using an onCourse
          template as the starting point. The key code will be left blank in the duplicate process
          for you to create your own unique code. <systemitem>#28063</systemitem></para></listitem>
      <listitem><para>Improvement to the 'send certificate vet created notification' script to set the issued on
          date to the day the certificate was automatically printed and distributed to the student.
          If you are using this script, you should open the script record and click 'update to
          latest version'.  <systemitem>#28724</systemitem></para></listitem>
      <listitem><para>Improvement to the 'send weekly finance summary report' script with the addition of a send
          monthly option. If you are using this script and want to enable the monthly option, first
          open the script record and click 'update to the latest version'. Then, comment out the
          weekly time range, and uncomment the monthly time
          range<systemitem>#27107</systemitem></para></listitem>
      <listitem><para>Additional CRON times have been added to a drop down list, so rather than having to write a
          custom schedule for each script, you can select a pre-written
            option<systemitem>#28500</systemitem></para></listitem>
    </itemizedlist>
  </section>
  <section role="minor">
    <title>Minor features</title>
    <itemizedlist>
      <listitem><para>Implementation of HTTP/2 communication protocols between onCourse client and server
          applications. This protocol reduces the number of requests from the client to retrieve
          server side data, so will improve the speed of information transfer, resulting in faster
          response times inside the application for some processes. This may noticeably improve the
          record loading time for users on some types of high latency internet links
            <systemitem>#27818</systemitem></para></listitem>
      <listitem><para>Default name of the asset account where payments are deposited changed from 'Cheque account'
          to 'Deposited funds', in preparation for new 'undeposited funds' account creation
            <systemitem>#28229</systemitem></para></listitem>
      <listitem><para>Allow payment in and payment out banking dates to be edited for all types of payments <systemitem>#28005</systemitem></para></listitem>
      <listitem><para>Add to enrolment window advanced search options 'NSW Commitment ID', 'Funding source - State' and 'Outcome Identifier - Training Organisation' <systemitem>#28142</systemitem></para></listitem>
      <listitem><para>AMEX payment types will now bank into a their own daily banking deposit record, so they can be
          reconciled as their own group instead of included with other credit card payment types
            <systemitem>#28232</systemitem></para></listitem>
      <listitem><para>Open payment in/payment out record on double click from within the Banking Deposit record to
          allow for the date banked record to be changed as needed
          <systemitem>#28575</systemitem></para></listitem>
      <listitem><para> Update the layout of the payment out edit window to show the same information as payment in,
          including the addition to both windows of the 'create by' user
            name<systemitem>#11537</systemitem></para></listitem>
      <listitem><para> Simple and advanced search options have been added to the Banking Deposits window
            <systemitem>#28263</systemitem></para></listitem>
      <listitem><para>All advanced search options are listed in alphabetical order
          <systemitem>#28399</systemitem></para></listitem>
      <listitem><para> Ensure credit card payment types are always, and can only be, set to bank automatically
            <systemitem>#28565</systemitem></para></listitem>
      <listitem><para>Allow course with modules attached to be unflagged as VET to meet some NSW AVETMISS reporting
        requirements <systemitem>#28515</systemitem></para></listitem>
      <listitem><para>AVETMISS outcome '61 - Superseded subject' added to list of outcome status options available <systemitem>#27959</systemitem></para></listitem>
    <listitem><para>Store user preferences for all edit view windows, so that after closing, the window will
          reopen in your preferred layout and size<systemitem>#26877</systemitem></para></listitem>
      <listitem><para>Improve layout of the enrolment cancellation/transfer administrative fee display to auto
          select the income account from the class and show the total admin fee charged inclusive of
            GST<systemitem>#27549</systemitem></para></listitem>
      <listitem><para>Implementation of OS native file browser for simpler location of files on disk and uploading
          of documents into onCourse<systemitem>#27914</systemitem></para></listitem>
      <listitem><para>Improvements to the messaging window to search on message status, find related message contact, and open queued email and SMS records from the general messaging preferences<systemitem>#28585</systemitem></para></listitem>
      <listitem><para>Improvement to discount in class override UI, to show the new class fee inclusive/exclusive of tax, depending on the class tax settings<systemitem>#27252</systemitem></para></listitem>
      <listitem><para>An upgrade to convert some dateTime fields to date only has been implemented. In a number of places in onCourse, where date and time fields were used, but only date fields make sense, particularly in relation to finance and reporting, you'll notice there is now no requirement to add 12.00 am to the report runners.<systemitem>#28231</systemitem></para></listitem>
    </itemizedlist>
  </section>
  <section role="fixes">
    <title>Fixes</title>
    <itemizedlist>
      <listitem><para>Fix to simple search in certificate window to allow for standard 'surname, firstname' or firstname surname' style searching of records
        <systemitem>#28312</systemitem></para></listitem>
      <listitem><para>Invoice number correctly displays on class roll <systemitem>#28526</systemitem></para></listitem>
      <listitem><para>Improvement to the contact merge feature to reduce duplicates between onCourse and web databases <systemitem>#28235</systemitem></para></listitem>
      <listitem><para>Improvement to the attendance percentage calculations inside the class attendance view to ensure partial attendance and absent with reason attendances count towards valid attendance counts <systemitem>#28474</systemitem></para></listitem>
      <listitem><para>Fix to the Fee Help Requested field in the enrolment record to ensure the value is not set
          until the enrolment status is finalised in the database
          <systemitem>#28106</systemitem></para></listitem>
      <listitem><para>VET Fee Help - VEN File name exports with a full stop in the file name, like the other export files <systemitem>#28510</systemitem></para></listitem>
      <listitem><para>VET Fee Help - VEN will now only export each contact once to avoid duplicates when enrolling
          in multiple courses <systemitem>#28511</systemitem></para></listitem>
      <listitem><para>VET Fee Help - Update 'unit of study code' to export as standard courseCode-classCode format
            <systemitem>#28512</systemitem></para></listitem>
      <listitem><para>Improve onCourse contact merge function when custom fields are present
            <systemitem>#28545</systemitem></para></listitem>
      <listitem><para>Prevent the preference window from opening more than one instance at a time for each user<systemitem>#28586</systemitem></para></listitem>
      <listitem><para>Display contact financial records sorted by date and time inside the contact
            record<systemitem>#28781</systemitem></para></listitem>
      <listitem><para>Fix to wait list tagging function to correctly delete related tags when the waiting list entry
          is deleted<systemitem>#28959</systemitem></para></listitem>
      <listitem><para>Improvement to EULA checking preference to retain check when the user name is modified<systemitem>#27475</systemitem></para></listitem>
    </itemizedlist>
  </section>
</chapter>
